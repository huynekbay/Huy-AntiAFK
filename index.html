<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Huy Anti-AFK | Get Key</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body{
  margin:0;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
  font-family:Segoe UI,Arial;
  text-align:center;
}
.container{
  max-width:420px;
  margin:80px auto;
  background:#111;
  padding:30px;
  border-radius:14px;
  box-shadow:0 0 40px rgba(0,0,0,.6);
}
h1{
  margin-bottom:10px;
}
p{
  color:#ccc;
  font-size:14px;
}
input{
  width:100%;
  padding:14px;
  margin-top:15px;
  border-radius:8px;
  border:none;
  outline:none;
  font-size:16px;
}
button{
  width:100%;
  padding:14px;
  margin-top:12px;
  border:none;
  border-radius:8px;
  font-size:15px;
  cursor:pointer;
  background:#ff4757;
  color:white;
}
#copyBtn{
  display:none;
  background:#2ed573;
}
#out{
  margin-top:15px;
  font-weight:bold;
}
.footer{
  margin-top:20px;
  font-size:12px;
  color:#888;
}
</style>
</head>

<body>

<div class="container">
  <h1>üîê Huy Anti-AFK</h1>
  <p>Enter your Roblox UserId to get key</p>

  <input id="uid" placeholder="Roblox UserId (number only)">
  <button onclick="genKey()">GET KEY</button>
  <button id="copyBtn" onclick="copyKey()">üìã COPY KEY</button>

  <div id="out"></div>

  <div class="footer">
    Key expires after 24 hours
  </div>
</div>

<script>
/* ===== FIREBASE CONFIG ===== */
var firebaseConfig = {
  apiKey: "AIzaSyXXXX",
  authDomain: "huy-antiafk.firebaseapp.com",
  databaseURL: "https://huy-antiafk-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "huy-antiafk",
  storageBucket: "huy-antiafk.appspot.com",
  messagingSenderId: "123456",
  appId: "1:123456:web:abcd"
};

firebase.initializeApp(firebaseConfig);
var db = firebase.database();

/* ===== LOGIC ===== */
var lastKey = "";
console.log("GET KEY CLICKED");
function genKey(){
  var uid = document.getElementById("uid").value.trim();
  var out = document.getElementById("out");
  var copyBtn = document.getElementById("copyBtn");

  if(!uid || isNaN(uid)){
    out.style.color = "#ff6b81";
    out.innerText = "‚ùå Invalid Roblox UserId";
    copyBtn.style.display = "none";
    return;
  }

  var key = "HUY-" + Math.random().toString(36).substr(2,6).toUpperCase();
  var exp = Math.floor(Date.now()/1000) + 86400;

  db.ref("keys/" + uid).set({
    key: key,
    expire: exp
  }).then(function(){
    lastKey = key;
    out.style.color = "#2ed573";
    out.innerText = "‚úÖ KEY: " + key;
    copyBtn.style.display = "block";
  }).catch(function(err){
    out.style.color = "#ff6b81";
    out.innerText = "‚ùå " + err.message;
    copyBtn.style.display = "none";
  });
}

function copyKey(){
  if(!lastKey) return;
  navigator.clipboard.writeText(lastKey).then(function(){
    alert("‚úÖ Key copied to clipboard!");
  });
}
</script>

</body>
</html>
